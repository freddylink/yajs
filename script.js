window.onload = () => {
	const FORM_WRAPPER = document.querySelector(`.column_type_input`);
	const ratingArray = [];
	let countedRating = 20;

  const renderSearch = (allItemsData) => {
    PageEnum.SiteWrapper.SEARCH.innerHTML = ``;
    const searchComponent = new Search();

    PageEnum.SiteWrapper.SEARCH.appendChild(searchComponent.render());
    searchComponent.onChange = (value) => {
      const filteredItems = allItemsData.filter((currentItem) => currentItem._names.includes(value));
      PageEnum.SiteWrapper.rating.innerHTML = ``;
      if (value === ``) {
        ratingRender(countedRating, allItemsData);
      } else {
        ratingUpdate(filteredItems);
      }
    };
  };

  const ratingRender = (ratingAmount, ratingArray) => {
    for (let i = 0; i < ratingAmount; i++) {
      ratingArray[i] = new PersonRating(returnRandomData());
    }
    ratingUpdate(ratingArray);
  };

  const ratingUpdate = (ratingArray) => {
    ratingArray.forEach((item) => {
      PageEnum.SiteWrapper.rating.appendChild(item.render());
    });
    if (ratingArray.length === 0) {
      PageEnum.SiteWrapper.rating.innerHTML = `Rating list is empty`
    }
  };

	const renderForm = () => {
		const formComponent = new Form();
		FORM_WRAPPER.appendChild(formComponent.render());

		formComponent.onSubmit = (evt) => {
			evt.preventDefault();
			const name = document.querySelector(`input[name=name]`).value;
			const cat = document.querySelector(`input[name=cat]`).value;
			const rest = document.querySelector(`input[name=rest]`).value;
			const money = document.querySelector(`input[name=money]`).value;
			const Man = new Person(name);
			if (cat === 'yes') {
				Man.hasCat();
			}
			if (rest === 'yes') {
				Man.hasRest();
			}
			if (money === 'yes') {
				Man.hasMoney();
			}
			Man.isSunny()
				.then((happiness) => {
					Man._valueElement.innerHTML = name;
					if (happiness === 4) {
						Man._iconElement.innerHTML = 'üòÜ';
					} else if (happiness === 3 || happiness === 2) {
						Man._iconElement.innerHTML = 'üòê';
					} else {
						Man._iconElement.innerHTML = '‚òπÔ∏è';
					}
				});
		}
	};

	renderForm();
  renderSearch(ratingArray); // —Å—ä–µ—Ö–∞–ª –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞
	ratingRender(countedRating, ratingArray);
};

/*
 A--–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω Fetch, –¥–æ–ª–∂–Ω—ã–º –ª–∏ –æ–±—Ä–∞–∑–æ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–æ–±–∏—Ä–∞–µ–º—ã–µ –∏ –ø–æ–ª—É—á–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ?
 	1. –í–≤–µ–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∏–∫–∞–∫ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–ª—É—á–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ù–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–ª–∏—è–µ—Ç –ø–æ–≥–æ–¥–∞ –≤ –ú–æ—Å–∫–≤–µ.
 		res.main.temp - 273 > 15 - –≤ —ç—Ç–æ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ –≤–º–µ—Å—Ç–æ 15 –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–±–∏—Ç–æ–≤–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞
 		–Ω–∞ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä.
 		hasCat(),hasMoney(),hasRest() - –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç happines - –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ.
 	2. –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∏–∫–∞–∫ –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—É–µ—Ç—Å—è. –ü–æ–ª—É—á–∞–µ—Ç—Å—è –µ—Å–ª–∏ —Å–µ—Ä–µ–≤–µ—Ä –Ω–µ –ø—Ä–∏—à–ª–µ—Ç –æ—Ç–≤–µ—Ç, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–∞–∫ –∏ –Ω–µ –¥–æ–∂–¥–µ—Ç—Å—è
 	 	—Ä–µ–∞–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å. –ù–µ–æ–±—Ö–æ–¥–∏–æ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ ( 200 ).
 	3. –û—à–∏–±–∫–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ {"cod":401, "message": "Invalid API key. Please see http://openweathermap.org/faq#error401 for more info."}
 	 	–¥–æ–ª–∂–Ω–∞ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞–ø—Ä–∏–º–µ–ø—Ä –≤ —Ñ–∞–π–ª–µ, —á—Ç–æ–±—ã –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∫–∞–∫–∞—è-—Ç–æ –æ—à–∏–±–∫–∞.
 	 	–¢–∞–∫–∞—è –æ—à–∏–±–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏, –µ—Å–ª–∏ –≤–¥—Ä—É–≥ –∫–ª—é—á —Å—Ç–∞–¥ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º.
 	4. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç, –Ω–µ –ø–æ–ª—É—á–µ–Ω, —Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.
 	5. console.log(this._happiness); - –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å, –≤–µ—Ä–æ—è—Ç–Ω–æ –Ω–µ —É–±—Ä–∞–Ω–æ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ
 	6.  .then(res => res.json())
 		.then((res) => {...  - res, res - –≤–≤–æ–¥—è—Ç –≤ –ø—É—Ç–∞–Ω–∏—Ü—É, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –≥–æ–≤–æ—Ä–∏—Ç—å –æ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ –≤ —Å–µ–±–µ —Ö—Ä–∞–Ω—è—Ç.
 		–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ  - —ç—Ç–æ  response, –≤–æ-–≤—Ç–æ—Ä–æ–º weatherApiData
 	7. –ó–∞–ø–æ–ª–Ω—è–µ–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–µ –Ω–∏–∫–∞–∫ –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è. –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö.
	8. if (res.main.temp - 273 > 15) {
 		return this._happiness++;
 		}  - –Ω–µ —Ö–≤–∞—Ç–∞—Ç–µ—Ç else
 –ë--–ò–º–µ–µ—Ç –ª–∏ –∫–æ–¥ —É—è–∑–≤–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ –¥–∞ - —Ç–æ –∫–∞–∫–∏–µ?
 	1. –°—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Enter - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Windows —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏.
 –í--–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª? –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –æ–Ω –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–¥ —Å—Ç—É–¥–µ–Ω—Ç–æ–º –∑–∞–¥–∞—á–µ?
 	1. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –æ—á–∏—â–∞—Ç—å—Å—è.
 	2. –ü–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–±—ã—Ç –±–∞–π–Ω–¥–∏–Ω–≥ this._onSearchChange = this._onSearchChange.bind(this);
 	3. –ü—Ä–∏ —Ä–∞–±–æ—Ç–∞—é—â–µ–º –ø–æ–∏—Å–∫–µ - –ø–æ–∏—Å–∫ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–∑–∞–≤–∏—Å–∏–º—ã–º.
 	4. –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø–æ–∏—Å–∫–æ–º, —Ñ–æ—Ä–º–∞ –≤–≤–æ–¥–∞ —Å–∫–∞—á–µ—Ç. –ï–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã—Å–æ—Ç—ã –±–ª–æ–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤.
 	5. –ü—Ä–∏ –æ—á–∏—Å—Ç–∫–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–∏—Å–∫–∞ —Å–ø–∏—Å–æ–∫ –∑–∞–Ω–æ–≤–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–æ–≤—ã–µ —Ä–∞–Ω–¥–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–∏–º —Å–ø–∏—Å–∫–æ–º.
 –ì--–ù–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –∏ —á–∏—Å—Ç –∫–æ–¥: –∫–∞–∫ –µ–≥–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å, —É–ø—Ä–æ—Å—Ç–∏—Ç—å?
 	1. –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É, enum –≤ —Å–≤–æ–µ–π –ø–∞–ø–∫–µ,  utils –≤ —Å–≤–æ–µ–π –ø–∞–ø–∫–µ
 	2. –°–æ–∂–µ—Ä–∂–∞–Ω–∏–µ script.js - —ç—Ç–æ —Ç–æ–∂–µ –æ–±—ä–µ—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å. –°–µ–π—á–∞—Å —ç—Ç–æ –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π
 –î--–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤—Å–µ –ª–∏ –æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∏—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –≤ –∫–æ–¥–µ/—Ñ–∞–π–ª–∞—Ö?
 	1. const Man = new Person(name); - –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è –ø–æ –≥–µ–Ω–¥–µ—Ä–Ω–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫—É :)
 	2.  const cat, const rest, const money - —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–µ true/false. –° —ç—Ç–æ–π —Ç–æ—á–∫–∏
 		–∑—Ä–µ–Ω–∏—è –º–æ–∂–Ω–æ –¥–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –Ω–∏—Ö isHaveCat, isHaveRest, isMoneyEnough, —Ç–µ–º —Å–∞–º—ã–º —ç—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç —á—Ç–µ–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è
 		–¥—Ä—É–≥–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.
 	3. happiness === 3 || happiness === 2  - –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –Ω–µ —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —É—Ä–æ–≤–µ–Ω—å —Å—á–∞—Å—Ç—å—è, –∞ —Å —Ç–∞–∫–∏–º –∂–µ
 		enum. Happy = 3, Normal = 2, Sad = 1.
 –ï--–ö–∞–∫ –æ–±—Å—Ç–æ—è—Ç –¥–µ–ª–∞ —Å –º–µ—Ç–æ–¥–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–æ–≤? –í–æ–∑–º–æ–∂–Ω–æ –ª–∏ —á—Ç–æ-—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∏–ª–∏ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å?
	1. –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ removeItem() –≤ Component.js
	2. –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ getRandomNumber(), –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ utils-function,
		–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –ø–æ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—é –∑–Ω–∞—á–µ–Ω–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞.
*/

